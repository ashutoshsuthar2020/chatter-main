{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ashu\\\\Desktop\\\\chatter-main\\\\client\\\\src\\\\modules\\\\Dashboard\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport Img1 from './../../assets/user.svg';\nimport Avatar from \"./../../assets/user.svg\";\nimport Input from \"./../../components/Input\";\nimport { io } from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  var _messages$receiver3, _messages$receiver4, _messages$messages, _messages$receiver5;\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('user:detail')));\n  const [conversations, setConversations] = useState([]);\n  const [messages, setMessages] = useState({});\n  const [message, setMessage] = useState('');\n  const [users, setUsers] = useState([]);\n  const [socket, setSocket] = useState(null);\n  const messageRef = useRef(null);\n  useEffect(() => {\n    setSocket(io('http://localhost:8080'));\n  }, []);\n  useEffect(() => {\n    socket === null || socket === void 0 ? void 0 : socket.emit('addUser', user === null || user === void 0 ? void 0 : user.id);\n    socket === null || socket === void 0 ? void 0 : socket.on('getUsers', users => {\n      console.log('activeUsers :>>', users);\n    });\n    socket === null || socket === void 0 ? void 0 : socket.on('getMessage', data => {\n      setMessages(prev => ({\n        ...prev,\n        messages: [...prev.messages, {\n          user: data.user,\n          message: data.message\n        }]\n      }));\n    });\n  }, [socket]);\n  useEffect(() => {\n    var _messageRef$current;\n    messageRef === null || messageRef === void 0 ? void 0 : (_messageRef$current = messageRef.current) === null || _messageRef$current === void 0 ? void 0 : _messageRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages === null || messages === void 0 ? void 0 : messages.messages]);\n  useEffect(() => {\n    const loggedInUser = JSON.parse(localStorage.getItem('user:detail'));\n    const fetchConversations = async () => {\n      const res = await fetch(`http://localhost:8000/api/conversations/${loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.id}`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const resData = await res.json();\n      setConversations(resData);\n    };\n    fetchConversations();\n  }, []);\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const res = await fetch(`http://localhost:8000/api/users/${user === null || user === void 0 ? void 0 : user.id}`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const resData = await res.json();\n      setUsers(resData);\n    };\n    fetchUsers();\n  }, []);\n  const fetchMessages = async (conversationId, receiver) => {\n    // console.log(\"receiver :>>\",receiver);\n    const res = await fetch(`http://localhost:8000/api/message/${conversationId}?senderId=${user === null || user === void 0 ? void 0 : user.id}&&receiverId=${receiver === null || receiver === void 0 ? void 0 : receiver.receiverId}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const resData = await res.json();\n    console.log('resData :>>', resData);\n    setMessages({\n      messages: resData,\n      receiver,\n      conversationId\n    });\n  };\n  const sendMessage = async e => {\n    var _messages$receiver, _messages$receiver2;\n    socket.emit('sendMessage', {\n      senderId: user === null || user === void 0 ? void 0 : user.id,\n      receiverId: messages === null || messages === void 0 ? void 0 : (_messages$receiver = messages.receiver) === null || _messages$receiver === void 0 ? void 0 : _messages$receiver.receiverId,\n      message,\n      conversationId: messages === null || messages === void 0 ? void 0 : messages.conversationId\n    });\n    console.log('message:>>', messages.conversationId);\n    const res = await fetch('http://localhost:8000/api/message', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        conversationId: messages === null || messages === void 0 ? void 0 : messages.conversationId,\n        senderId: user === null || user === void 0 ? void 0 : user.id,\n        message,\n        receiverId: messages === null || messages === void 0 ? void 0 : (_messages$receiver2 = messages.receiver) === null || _messages$receiver2 === void 0 ? void 0 : _messages$receiver2.receiverId\n      })\n    });\n    setMessage('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex w-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-[25%] h-screen bg-secondary overflow-scroll\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center my-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border border-primary p-[2pz] rounded-full\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: Avatar,\n            width: 70,\n            height: 70,\n            alt: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl\",\n            children: user === null || user === void 0 ? void 0 : user.fullName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-light\",\n            children: \"My Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-10 mx-14\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg text-primary\",\n          children: \"Messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: conversations.length > 0 ? conversations.map(({\n            conversationId,\n            user\n          }) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center py-8 border-b border-b-gray-300\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center cursor-pointer\",\n                onClick: () => fetchMessages(conversationId, user),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: Img1,\n                    width: 60,\n                    height: 60,\n                    alt: \"User\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-1xl\",\n                    children: user === null || user === void 0 ? void 0 : user.fullName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-lg font-light\",\n                    children: 'status'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 37\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg font-semibold text-center\",\n            children: \"No Conversations.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-[50%] h-screen bg-white flex flex-col items-center\",\n      children: [(messages === null || messages === void 0 ? void 0 : (_messages$receiver3 = messages.receiver) === null || _messages$receiver3 === void 0 ? void 0 : _messages$receiver3.fullName) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[100%] bg-secondary h-[80px] mt-14 rounded-full flex items-center px-14\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cursor-pointer\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: Avatar,\n            width: 60,\n            height: 60,\n            alt: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-6 mr-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg\",\n            children: messages === null || messages === void 0 ? void 0 : (_messages$receiver4 = messages.receiver) === null || _messages$receiver4 === void 0 ? void 0 : _messages$receiver4.fullName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-light text-gray-600\",\n            children: 'online'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cursor-pointer\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            class: \"icon icon-tabler icon-tabler-phone-call\",\n            width: \"24\",\n            height: \"24\",\n            viewBox: \"0 0 24 24\",\n            \"stroke-width\": \"2\",\n            stroke: \"currentColor\",\n            fill: \"none\",\n            \"stroke-linecap\": \"round\",\n            \"stroke-linejoin\": \"round\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              stroke: \"none\",\n              d: \"M0 0h24v24H0z\",\n              fill: \"none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M15 7a2 2 0 0 1 2 2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M15 3a6 6 0 0 1 6 6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-[75%] w-full overflow-scroll border-b\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-14\",\n          children: (messages === null || messages === void 0 ? void 0 : (_messages$messages = messages.messages) === null || _messages$messages === void 0 ? void 0 : _messages$messages.length) > 0 ? messages.messages.map(({\n            message,\n            user: {\n              id\n            } = {}\n          }) => {\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `max-w-[40%] rounded-b-xl p-4 mb-6 ${id === (user === null || user === void 0 ? void 0 : user.id) ? 'bg-primary text-white rounded-tl-xl ml-auto' : 'bg-secondary rounded-tr-xl'}`,\n                children: message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: messageRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true);\n          }) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-24 text-lg font-semibold text-center\",\n            children: \"No Messages or no convo selected.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 32\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), (messages === null || messages === void 0 ? void 0 : (_messages$receiver5 = messages.receiver) === null || _messages$receiver5 === void 0 ? void 0 : _messages$receiver5.fullName) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center w-full p-14\",\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"Type a message...\",\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          className: \"w-[90%]\",\n          inputClassName: \"p-4 border-0 shadow-md rounded-full bg-light focus:ring-0 focus:border-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `\"p-2 ml-4 rounded-full cursor-pointer bg-light ${!message && 'pointer-events-none'}\"`,\n          onClick: () => sendMessage(),\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            class: \"icon icon-tabler icon-tabler-send\",\n            width: \"24\",\n            height: \"24\",\n            viewBox: \"0 0 24 24\",\n            \"stroke-width\": \"2\",\n            stroke: \"currentColor\",\n            fill: \"none\",\n            \"stroke-linecap\": \"round\",\n            \"stroke-linejoin\": \"round\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              stroke: \"none\",\n              d: \"M0 0h24v24H0z\",\n              fill: \"none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M10 14l11 -11\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `\"p-2 ml-4 rounded-full cursor-pointer bg-light ${!message && 'pointer-events-none'}\"`,\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            class: \"icon icon-tabler icon-tabler-circle-plus\",\n            width: \"24\",\n            height: \"24\",\n            viewBox: \"0 0 24 24\",\n            \"stroke-width\": \"2\",\n            stroke: \"currentColor\",\n            fill: \"none\",\n            \"stroke-linecap\": \"round\",\n            \"stroke-linejoin\": \"round\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              stroke: \"none\",\n              d: \"M0 0h24v24H0z\",\n              fill: \"none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M9 12h6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M12 9v6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-[25%] h-screen bg-white px-8 py-16 overflow-scroll\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-lg text-primary\",\n        children: \"Contacts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }, this), users.length > 0 ? users.map(({\n        userId,\n        user\n      }) => {\n        console.log(user);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center py-8 border-b border-b-gray-300\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center cursor-pointer\",\n            onClick: () => fetchMessages('new', user),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: Img1,\n                width: 60,\n                height: 60,\n                alt: \"User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-1xl\",\n                children: user === null || user === void 0 ? void 0 : user.fullName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg font-light\",\n                children: 'status'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 29\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-lg font-semibold text-center\",\n        children: \"No Conversations.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 9\n  }, this);\n};\n_s(Dashboard, \"0eDu4XYkOeZKkVSr83e7rusWfSA=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Img1","Avatar","Input","io","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","_messages$receiver3","_messages$receiver4","_messages$messages","_messages$receiver5","user","setUser","JSON","parse","localStorage","getItem","conversations","setConversations","messages","setMessages","message","setMessage","users","setUsers","socket","setSocket","messageRef","emit","id","on","console","log","data","prev","_messageRef$current","current","scrollIntoView","behavior","loggedInUser","fetchConversations","res","fetch","method","headers","resData","json","fetchUsers","fetchMessages","conversationId","receiver","receiverId","sendMessage","e","_messages$receiver","_messages$receiver2","senderId","body","stringify","className","children","src","width","height","alt","fileName","_jsxFileName","lineNumber","columnNumber","fullName","length","map","onClick","xmlns","class","viewBox","stroke","fill","d","ref","placeholder","value","onChange","target","inputClassName","userId","_c","$RefreshReg$"],"sources":["C:/Users/ashu/Desktop/chatter-main/client/src/modules/Dashboard/index.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef} from \"react\";\nimport Img1 from './../../assets/user.svg'\nimport Avatar from \"./../../assets/user.svg\"\nimport Input from \"./../../components/Input\"\nimport {io} from 'socket.io-client'\n\nconst Dashboard = ()=>{\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('user:detail')));\n    const [conversations, setConversations] = useState([]);\n    const [messages, setMessages] = useState({});\n    const [message, setMessage] = useState('');\n    const [users,setUsers] = useState([]);\n    const [socket,setSocket] = useState(null);\n    const messageRef = useRef(null);\n    useEffect(() => {\n        setSocket(io('http://localhost:8080'))\n    }, []);\n\n    useEffect(() => {\n        socket?.emit('addUser', user?.id);\n        socket?.on('getUsers',users => {\n            console.log('activeUsers :>>',users);\n        })\n        socket?.on('getMessage', data => {\n            setMessages(prev => ({\n                ...prev,\n                messages: [...prev.messages, {user: data.user,message: data.message }]\n            }))\n        })\n    }, [socket]);\n    \n    useEffect(() => {\n        messageRef?.current?.scrollIntoView({ behavior: 'smooth'})\n    }, [messages?.messages]);\n\n    useEffect(() => {\n        const loggedInUser = JSON.parse(localStorage.getItem('user:detail'));\n        const fetchConversations = async() => {\n            const res = await fetch(`http://localhost:8000/api/conversations/${loggedInUser?.id}`, {\n                method:'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                }\n            });\n            const resData = await res.json();\n            setConversations(resData);\n        }\n        fetchConversations()\n    }, []);\n\n    useEffect(() => {\n        const fetchUsers = async() => {\n            const res = await fetch(`http://localhost:8000/api/users/${user?.id}`,{\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                }\n            });\n            const resData = await res.json();\n            setUsers(resData);\n        };\n        fetchUsers()\n    },[]);\n\n    const fetchMessages = async(conversationId, receiver) => {\n        // console.log(\"receiver :>>\",receiver);\n        const res = await fetch(`http://localhost:8000/api/message/${conversationId}?senderId=${user?.id}&&receiverId=${receiver?.receiverId}`,{\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            }\n        });\n        const resData = await res.json();\n        console.log('resData :>>',resData);\n        setMessages({messages: resData, receiver, conversationId});\n    }\n\n    const sendMessage = async(e) => {\n        socket.emit('sendMessage',{\n            senderId: user?.id,\n            receiverId: messages?.receiver?.receiverId,\n            message,\n            conversationId: messages?.conversationId\n        });\n        console.log('message:>>',messages.conversationId)\n        const res = await fetch('http://localhost:8000/api/message', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                conversationId: messages?.conversationId, \n                senderId: user?.id, \n                message,\n                receiverId: messages?.receiver?.receiverId\n            })\n        });\n        setMessage('');\n    }\n\n    return(\n        <div className=\"flex w-screen\">\n            {/* users dashboard */}\n            <div className=\"w-[25%] h-screen bg-secondary overflow-scroll\">\n                <div className=\"flex items-center my-8\">\n                    <div className=\"border border-primary p-[2pz] rounded-full\">\n                        <img src={Avatar} width={70} height={70} alt=\"User\"/>\n                    </div>\n                    <div className=\"ml-8\">\n                        <h3 className=\"text-2xl\">{user?.fullName}</h3>\n                        <p className=\"text-lg font-light\">My Account</p>\n                    </div>\n                </div>\n                <div className=\"mt-10 mx-14\">\n                    <div className=\"text-lg text-primary\">Messages</div>\n                    <div>\n                        {\n                            conversations.length>0 ?\n                            conversations.map(({conversationId, user})=>{\n                                return(\n                                    <div className=\"flex items-center py-8 border-b border-b-gray-300\">\n                                        <div className=\"flex items-center cursor-pointer\" onClick={() => fetchMessages(conversationId, user)}>\n                                            <div>\n                                                <img src={Img1} width={60} height={60} alt=\"User\"/>\n                                            </div>\n                                            <div className=\"ml-6\">\n                                                <h3 className=\"text-1xl\">{user?.fullName}</h3>\n                                                <p className=\"text-lg font-light\">{'status'}</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                )\n                            }) : <div className=\"text-lg font-semibold text-center\">No Conversations.</div>\n                        }\n                    </div>\n                </div>\n            </div>\n            <hr />\n            {/* chats */}\n            <div className=\"w-[50%] h-screen bg-white flex flex-col items-center\">\n                {\n                    messages?.receiver?.fullName &&\n                    <div className='w-[100%] bg-secondary h-[80px] mt-14 rounded-full flex items-center px-14'>\n                        <div className='cursor-pointer'><img src={Avatar} width={60} height={60} alt=\"User\"/></div> \n                        <div className='ml-6 mr-auto'>\n                            <h3 className='text-lg'>{messages?.receiver?.fullName}</h3>\n                            <p className='text-sm font-light text-gray-600'>{'online'}</p>\n                        </div>\n                        <div className='cursor-pointer'>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-phone-call\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" stroke-width=\"2\" stroke=\"currentColor\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                            <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"></path>\n                            <path d=\"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2\"></path>\n                            <path d=\"M15 7a2 2 0 0 1 2 2\"></path>\n                            <path d=\"M15 3a6 6 0 0 1 6 6\"></path>\n                            </svg>\n                        </div>\n                    </div>\n                }\n                <div className=\"h-[75%] w-full overflow-scroll border-b\">\n                    <div className=\"p-14\">\n                        {\n                            messages?.messages?.length > 0 ?\n                            messages.messages.map(({message, user:{id} = {}})=>{\n                                return(\n                                    <>\n                                        <div className={`max-w-[40%] rounded-b-xl p-4 mb-6 ${id === user?.id ? 'bg-primary text-white rounded-tl-xl ml-auto' : 'bg-secondary rounded-tr-xl'}`}>{message}</div>\n                                        <div ref={messageRef}></div>\n                                    </>\n                                )\n                            }):<div className=\"mt-24 text-lg font-semibold text-center\">No Messages or no convo selected.</div>\n                        }\n                    </div>\n                </div>\n                {\n                    messages?.receiver?.fullName &&\n                    <div className=\"flex items-center w-full p-14\">\n                        <Input placeholder=\"Type a message...\" value={message} onChange={(e) => setMessage(e.target.value)} className=\"w-[90%]\" inputClassName=\"p-4 border-0 shadow-md rounded-full bg-light focus:ring-0 focus:border-0\"/>\n                        <div className={`\"p-2 ml-4 rounded-full cursor-pointer bg-light ${!message && 'pointer-events-none'}\"`} onClick={() => sendMessage()}>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-send\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" stroke-width=\"2\" stroke=\"currentColor\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                            <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"></path>\n                            <path d=\"M10 14l11 -11\"></path>\n                            <path d=\"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5\"></path>\n                            </svg>\n                        </div>\n                        <div className={`\"p-2 ml-4 rounded-full cursor-pointer bg-light ${!message && 'pointer-events-none'}\"`}>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-circle-plus\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" stroke-width=\"2\" stroke=\"currentColor\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                            <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"></path>\n                            <path d=\"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0\"></path>\n                            <path d=\"M9 12h6\"></path>\n                            <path d=\"M12 9v6\"></path>\n                            </svg>\n                        </div>\n                    </div>\n                }\n            </div>\n            {/* Contacts */}\n            <div className=\"w-[25%] h-screen bg-white px-8 py-16 overflow-scroll\">\n                <div className=\"text-lg text-primary\">Contacts</div>\n                {\n                    users.length > 0 ? users.map(({userId, user})=>{\n                        console.log(user);\n                        return(\n                            <div className=\"flex items-center py-8 border-b border-b-gray-300\">\n                                <div className=\"flex items-center cursor-pointer\" onClick={() => fetchMessages('new', user)}>\n                                    <div>\n                                        <img src={Img1} width={60} height={60} alt=\"User\"/>\n                                    </div>\n                                    <div className=\"ml-6\">\n                                        <h3 className=\"text-1xl\">{user?.fullName}</h3>\n                                        <p className=\"text-lg font-light\">{'status'}</p>\n                                    </div>\n                                </div>\n                            </div>\n                        )\n                    }) : <div className=\"text-lg font-semibold text-center\">No Conversations.</div>\n                }\n            </div>\n        </div>\n    )\n}\nexport default Dashboard\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}